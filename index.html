<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Music Map</title>

  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/StephanWagner/svgMap@v2.7.1/dist/svgMap.min.css">
  <link rel="stylesheet" href="./styles/style.css">

  <script src="//cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/StephanWagner/svgMap@v2.7.1/dist/svgMap.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/list.js/2.3.1/list.min.js"></script>

  <!-- COUNTER -->
  <script>
    function liveViews(response) {
      document.getElementById('visits').innerText = response.value;
    }
  </script>
  <script async src="https://api.countapi.xyz/hit/tavernhell-music-map/visits?callback=liveViews"></script>
  

  <script type="module">
    import "./scripts/music-map.js";
    import "./scripts/music-table.js";
  </script>

</head>

<body>
  <div id="live-counter-div">This page has been visited <span id="visits"></span> times.</div>

  <div id="music-map-div" class="hideable">
    <div class="text-center">
      <h1>My Music Map</h1>
      <p>
        One release for each country, the color scale is based on the year of release (ascending order). <br> 
        Clicking on a non-empty country will redirect to the album page on RYM.</p>
      <small>Thanks to <a id="thanks" href="https://github.com/StephanWagner" target="_blank">Stephan Wagner</a> for providing this amazing map!</small>
    </div>
    
    <div id="map-container" class="m-auto">
      <div id="map" ></div>
    </div>
    <div style="padding: 30px 0"></div>
  </div>

  <div id="music-table-div">
    <div class="text-center">
      <h1>Table Version</h1>
      <p class="display-small">The interactive map isn't available for your screen size :(, you can still check the releases in the table below!</p>
      <p>Click on the header (except for genres) to sort the table. Clicking on the album will bring you to its RYM page.</p>
    </div>
    <div id="table-container" class="m-auto">
      <div id="filter-container" class="p-1">
        <!-- FILTERS -->
        <input class="search m-auto" placeholder="Search...">
      </div>
      <!-- TABLE -->
      <table id="music-table">
        <thead>
          <th class="sort" data-sort="country">Country</th>
          <th class="sort" data-sort="artist">Artist</th>
          <th class="sort" data-sort="album">Album</th>
          <th class="sort" data-sort="year">Year</th>
          <th>Genre(s)</th>
        </thead>
        <tbody class="list">

        </tbody>
      </table>
    </div>
  </div>
</body>
</html>

